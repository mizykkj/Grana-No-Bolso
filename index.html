<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Central de Jogos - Jogue Agora!</title>
    <link rel="stylesheet" href="style.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9402908836616610"
         crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <div class="top-page-actions">
            <div id="loggedInUserInfo" style="display: none;">
                <span id="loggedInUserEmail" class="user-email-display"></span>
                <a href="#" id="logoutModalButton" class="top-nav-link logout-link">Sair</a>
            </div>
            <a href="#" id="loginTriggerLink" class="top-nav-link">Login</a>
            <button id="aboutButton" class="about-button">Sobre</button>
        </div>

        <header>
            <h1>Bem-vindo √† Central de Jogos!</h1>
            <p>Escolha um dos nossos jogos cl√°ssicos para se divertir.</p>
        </header>

        <nav class="game-selection">
            <h2>Escolha seu Jogo:</h2>
            <ul>
                <li><a href="snake.html" class="game-link">Jogo da Cobrinha</a></li>
                <li><a href="pong.html" class="game-link">Pong Cl√°ssico</a></li>
                <li><a href="quebra_blocos.html" class="game-link">Quebra Blocos</a></li>
            </ul>
        </nav>
    </nav> <section class="ranking-section">
            <h2>üèÜ Ranking dos Melhores Jogadores üèÜ</h2>
            <p>Veja quem s√£o os mestres em nossos jogos!</p>

            <div class="ranking-game-selection">
                <button class="ranking-game-btn" data-gameid="snake">Jogo da Cobrinha</button>
                <button class="ranking-game-btn" data-gameid="pong">Pong Cl√°ssico</button>
                <button class="ranking-game-btn" data-gameid="quebra_blocos">Quebra Blocos</button>
            </div>

            <div id="rankingDisplayArea">
                <p class="ranking-placeholder">Selecione um jogo acima para ver o ranking.</p>
            </div>
        </section>
        <section class="adsense-area"> ```
        <section class="adsense-area">
            <h2>An√∫ncios</h2>
            <p>Espa√ßo reservado para an√∫ncios do Google AdSense. <br> Configure sua conta AdSense e cole o c√≥digo aqui para monetizar seu site.</p>
        </section>

        <footer>
            <p>&copy; 2025 Central de Jogos - Todos os direitos reservados.</p>
        </footer>
    </div> <div id="aboutModal" class="modal">
        <div class="modal-content">
            <span class="close-button about-modal-close">&times;</span>
            <h2>Sobre a Central de Jogos</h2>
            <p>Bem-vindo √† Central de Jogos! Este espa√ßo foi cuidadosamente desenvolvido por <strong><a href="https://www.instagram.com/mizykj/" target="_blank" rel="noopener noreferrer" class="inline-link">Mizy Dev</a></strong>.</p>
            <p>A principal motiva√ß√£o por tr√°s da cria√ß√£o deste site √© simples: trazer divers√£o e um toque de nostalgia atrav√©s de jogos cl√°ssicos que marcaram gera√ß√µes. Queremos oferecer um local onde voc√™ possa relaxar, desafiar a si mesmo e, quem sabe, relembrar bons momentos.</p>
            <p>Cada jogo foi implementado com o intuito de ser leve, acess√≠vel e f√°cil de jogar. Esperamos que voc√™ desfrute da experi√™ncia tanto quanto n√≥s gostamos de cri√°-la.</p>
            <p>Divirta-se!</p>
            <p><em>- <a href="https://www.instagram.com/mizykj/" target="_blank" rel="noopener noreferrer" class="inline-link">Mizy Dev</a></em></p>
        </div>
    </div>

    <div id="authModal" class="modal">
        <div class="modal-content auth-modal-content">
            <span class="close-button auth-modal-close">&times;</span>
            <div class="auth-form" id="loginContainerModal">
                <h3>Acesse sua Conta</h3>
                <form id="formLoginModal">
                    <div><label for="loginEmailModal">Email:</label><input type="email" id="loginEmailModal" required></div>
                    <div><label for="loginSenhaModal">Senha:</label><input type="password" id="loginSenhaModal" required></div>
                    <button type="submit">Entrar</button>
                </form>
                <p class="toggle-form-link">N√£o possui uma conta? <a href="#" id="switchToRegisterInModalLink">Crie uma</a></p>
            </div>
            <div class="auth-form" id="registroContainerModal" style="display: none;">
                <h3>Crie sua Conta</h3>
                <form id="formRegistroModal">
                    <div><label for="registroEmailModal">Email:</label><input type="email" id="registroEmailModal" required></div>
                    <div><label for="registroSenhaModal">Senha (m√≠n. 6 caracteres):</label><input type="password" id="registroSenhaModal" required minlength="6"></div>
                    <div><label for="registroConfirmaSenhaModal">Confirmar Senha:</label><input type="password" id="registroConfirmaSenhaModal" required minlength="6"></div>
                    <button type="submit">Registrar</button>
                </form>
                <p class="toggle-form-link">J√° possui uma conta? <a href="#" id="switchToLoginInModalLink">Fa√ßa login</a></p>
            </div>
            <p id="authMessageModal" class="auth-message"></p>
        </div>
    </div>

    <script>
        const aboutModal = document.getElementById('aboutModal');
        const aboutBtn = document.getElementById('aboutButton');
        const aboutModalCloseBtn = aboutModal.querySelector('.about-modal-close');

        if (aboutBtn) {
            aboutBtn.onclick = function() {
                aboutModal.style.display = 'flex';
                setTimeout(function() { aboutModal.classList.add('modal-visible'); }, 10);
                document.body.classList.add('modal-open');
            }
        }
        function closeAboutModal() {
            aboutModal.classList.remove('modal-visible');
            document.body.classList.remove('modal-open');
            setTimeout(function() {
                if (!aboutModal.classList.contains('modal-visible')) { aboutModal.style.display = 'none'; }
            }, 300);
        }
        if (aboutModalCloseBtn) aboutModalCloseBtn.onclick = closeAboutModal;
        window.addEventListener('click', function(event) {
            if (event.target == aboutModal) { closeAboutModal(); }
        });
    </script>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-app.js";
      import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-auth.js";
      import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-firestore.js";

      const firebaseConfig = {
     apiKey: "AIzaSyBYLGHFCAe_Go88NLg9huffQcaH65O8AxU",
    authDomain: "central-de-jogos-4bdf1.firebaseapp.com",
    projectId: "central-de-jogos-4bdf1",
    storageBucket: "central-de-jogos-4bdf1.firebasestorage.app",
    messagingSenderId: "552827412845",
    appId: "1:552827412845:web:57af946ce0b1a53a113a64",
    measurementId: "G-RDL4Y8ELKQ"
      };
      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const db = getFirestore(app);
      console.log("Firebase Modular SDK inicializado (Auth e Firestore prontos) em index.html!");
      window.firebaseAppInstance = app;
      window.firebaseAuthInstance = auth;
      window.firebaseDbInstance = db;
      window.fbCreateUser = (email, password) => createUserWithEmailAndPassword(auth, email, password);
      window.fbSignIn = (email, password) => signInWithEmailAndPassword(auth, email, password);
      window.fbSignOut = () => signOut(auth);
      window.fbOnAuthStateChanged = (callback) => onAuthStateChanged(auth, callback);
      window.fbAddDoc = (collectionName, data) => addDoc(collection(db, collectionName), data);
      window.fbServerTimestamp = () => serverTimestamp();
      window.dispatchEvent(new CustomEvent('firebaseReady')); // AVISA QUE O FIREBASE EST√Å PRONTO
      console.log("'firebaseReady' event dispatched from index.html!");
    </script>

    <script>
        window.addEventListener('firebaseReady', () => {
            console.log("Evento 'firebaseReady' recebido no script de UI Auth do index.html!");
            const authInstanceForIndexUI = window.firebaseAuthInstance; // Usar a inst√¢ncia exposta

            const loginTriggerLink = document.getElementById('loginTriggerLink');
            const loggedInUserInfo = document.getElementById('loggedInUserInfo');
            const loggedInUserEmailDisplay = document.getElementById('loggedInUserEmail');
            const logoutModalButton = document.getElementById('logoutModalButton');
            const authModal = document.getElementById('authModal'); // Modal de auth do index.html
            const authModalCloseBtn = authModal.querySelector('.auth-modal-close');
            const loginContainerModal = document.getElementById('loginContainerModal');
            const registroContainerModal = document.getElementById('registroContainerModal');
            const formLoginModal = document.getElementById('formLoginModal');
            const loginEmailModalInput = document.getElementById('loginEmailModal');
            const loginSenhaModalInput = document.getElementById('loginSenhaModal');
            const formRegistroModal = document.getElementById('formRegistroModal');
            const registroEmailModalInput = document.getElementById('registroEmailModal');
            const registroSenhaModalInput = document.getElementById('registroSenhaModal');
            const registroConfirmaSenhaModalInput = document.getElementById('registroConfirmaSenhaModal');
            const switchToRegisterInModalLink = document.getElementById('switchToRegisterInModalLink');
            const switchToLoginInModalLink = document.getElementById('switchToLoginInModalLink');
            const authMessageModal = document.getElementById('authMessageModal');

            function mostrarMensagemAuthModal(mensagem, tipo = 'error') { /* ... (c√≥digo da fun√ß√£o) ... */
                authMessageModal.textContent = mensagem;
                authMessageModal.className = 'auth-message ';
                if (tipo === 'success') authMessageModal.classList.add('success');
                else authMessageModal.classList.add('error');
            }
            function openAuthModal(view = 'login') { /* ... (c√≥digo da fun√ß√£o) ... */
                if (view === 'login') { loginContainerModal.style.display = 'block'; registroContainerModal.style.display = 'none'; }
                else { loginContainerModal.style.display = 'none'; registroContainerModal.style.display = 'block'; }
                authMessageModal.textContent = ''; authMessageModal.className = 'auth-message';
                authModal.style.display = 'flex';
                setTimeout(() => { authModal.classList.add('modal-visible'); }, 10);
                document.body.classList.add('modal-open');
            }
            function closeAuthModal() { /* ... (c√≥digo da fun√ß√£o) ... */
                authModal.classList.remove('modal-visible');
                document.body.classList.remove('modal-open');
                setTimeout(() => { if (!authModal.classList.contains('modal-visible')) { authModal.style.display = 'none'; } }, 300);
            }

            if (loginTriggerLink) loginTriggerLink.addEventListener('click', (e) => { e.preventDefault(); openAuthModal('login'); });
            if (authModalCloseBtn) authModalCloseBtn.onclick = closeAuthModal;
            window.addEventListener('click', function(event) { if (event.target == authModal) closeAuthModal(); });
            if (switchToRegisterInModalLink) switchToRegisterInModalLink.addEventListener('click', (e) => { e.preventDefault(); openAuthModal('register'); });
            if (switchToLoginInModalLink) switchToLoginInModalLink.addEventListener('click', (e) => { e.preventDefault(); openAuthModal('login'); });

            if (formRegistroModal) {
                formRegistroModal.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const email = registroEmailModalInput.value; const senha = registroSenhaModalInput.value; const confirmaSenha = registroConfirmaSenhaModalInput.value;
                    if (senha.length < 6) { mostrarMensagemAuthModal('A senha precisa ter no m√≠nimo 6 caracteres.'); return; }
                    if (senha !== confirmaSenha) { mostrarMensagemAuthModal('As senhas n√£o coincidem!'); return; }
                    try { await window.fbCreateUser(email, senha); formRegistroModal.reset(); }
                    catch (error) { console.error("Erro no registro (index.html):", error); if (error.code === 'auth/email-already-in-use') mostrarMensagemAuthModal('Este email j√° est√° em uso.'); else if (error.code === 'auth/weak-password') mostrarMensagemAuthModal('Senha muito fraca.'); else mostrarMensagemAuthModal('Erro ao registrar: ' + error.message.replace('Firebase: ',''));}
                });
            }
            if (formLoginModal) {
                formLoginModal.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const email = loginEmailModalInput.value; const senha = loginSenhaModalInput.value;
                    try { await window.fbSignIn(email, senha); formLoginModal.reset(); }
                    catch (error) { console.error("Erro no login (index.html):", error); if (error.code === 'auth/user-not-found' || error.code === 'auth/wrong-password' || error.code === 'auth/invalid-credential' || error.code === 'auth/invalid-email') mostrarMensagemAuthModal('Email ou senha inv√°lidos.'); else mostrarMensagemAuthModal('Erro ao fazer login: ' + error.message.replace('Firebase: ',''));}
                });
            }
            if (logoutModalButton) {
                logoutModalButton.addEventListener('click', async (e) => {
                    e.preventDefault();
                    try { await window.fbSignOut(); } catch (error) { console.error("Erro no logout (index.html):", error); }
                });
            }

            if (window.fbOnAuthStateChanged && authInstanceForIndexUI) { // Verifica se authInstanceForIndexUI existe
                window.fbOnAuthStateChanged(user => {
                    if (user) {
                        if (loggedInUserInfo) loggedInUserInfo.style.display = 'flex';
                        if (loggedInUserEmailDisplay) loggedInUserEmailDisplay.textContent = user.email;
                        if (loginTriggerLink) loginTriggerLink.style.display = 'none';
                        closeAuthModal();
                    } else {
                        if (loggedInUserInfo) loggedInUserInfo.style.display = 'none';
                        if (loginTriggerLink) loginTriggerLink.style.display = 'inline-block';
                    }
                });
            } else {
                console.error("Firebase auth instance or onAuthStateChanged not ready for index.html UI script.");
            }
        });
    </script>
</body>
</html>
